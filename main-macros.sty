\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{main-macros}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Other Packages
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\RequirePackage{amsmath,amsthm,amssymb} % various common math symbols
\RequirePackage{mathtools} % extension of amsmath
\RequirePackage{microtype} % micro typography
\RequirePackage{xparse} % nterface for document level commands
\RequirePackage{mathpartir} % inference rules
\RequirePackage{ebproof} % proof trees
\RequirePackage[usenames,svgnames]{xcolor} % easier coloring
\RequirePackage{mleftright} % variants of \left and \right used to define paired delimeters
\RequirePackage{adjustbox} % box content macros
\RequirePackage{hyperref} % hypertext reference across the document
\RequirePackage{multicol} % multi column equations and text

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Start of the Content
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ProcessOptions\relax

\setlength{\columnsep}{1cm}
\setlength{\parskip}{1em}
\setlength{\parindent}{2em}
\binoppenalty=\maxdimen
\relpenalty=\maxdimen

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Delimiters
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\NewDocumentCommand\NewPairedDelimiter{mmmmO{0mu}O{0mu}}{%
  \NewDocumentCommand#2{mmm}{%
    \IfNoValueTF{##2}
      {\IfBooleanTF{##1}
        {\mskip#6\mleft#3\mskip#5##3\mskip#5\mright#4\mskip#6}
        {\mskip#6#3\mskip#5##3\mskip#5#4\mskip#6}}
      {\mskip#6\mathopen{##2#3}\mskip#5##3\mskip#5\mathclose{##2#4}\mskip#6}%
  }
  \NewDocumentCommand#1{som}{#2{##1}{##2}{##3}}
}
\NewDocumentCommand\NewTripleDelimiter{mmmmmO{0mu}O{0mu}O{0mu}}{%
  \NewDocumentCommand#2{mmmm}{%
    \IfNoValueTF{##2}
      {\IfBooleanTF{##1}
        {\mskip#8\mleft#3\mskip#7##3\mskip#6\middle#4\mskip#6##4\mskip#7\mright#5\mskip#8}
        {\mskip#8#3\mskip#7##3\mskip#6#4\mskip#6##4\mskip#7#5\mskip#8}}
      {\mskip#8\mathopen{##2#3}\mskip#7##3\mskip#6{##2#4}\mskip#6##4\mskip#7\mathclose{##2#5}\mskip#8}%
  }
  \NewDocumentCommand#1{somm}{#2{##1}{##2}{##3}{##4}}
}

\NewPairedDelimiter{\parens}{\rawparens}{\lparen}{\rparen}
\NewPairedDelimiter{\brackets}{\rawbrackets}{[}{]}
\NewPairedDelimiter{\braces}{\rawbraces}{\lbrace}{\rbrace}
\NewPairedDelimiter{\angles}{\rawangles}{\langle}{\rangle}
\NewTripleDelimiter{\subst}{\rawsubst}{[}{/}{]}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Boxes
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \NewDocumentCommand{\highlight}{m}{\adjustbox{padding=.2em,bgcolor=lightgray!30}{#1}}
% \NewDocumentCommand{\markextra}{m}{\textcolor{red}{#1}}
% \newadjustboxenv{extrabox}{varwidth=.9\textwidth,cfbox=red,color=red,padding=1em}
% \NewDocumentCommand{\marktime}{mg}{\adjustbox{bgcolor=yellow}{\texttt{#1\IfValueT{#2}{ #2}}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Theorem-like environments
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\theoremstyle{plain}
\newtheorem{lemma}{Lemma}[section]
\newtheorem{theorem}{Theorem}
\newtheorem{corollary}{Corollary}
\theoremstyle{definition}
\newtheorem*{definition}{Definition}
\theoremstyle{remark}
\newtheorem*{remark}{Remark}
\newtheorem*{example}{Example}

\usepackage{etoolbox}
\AtBeginEnvironment{proof}{\vspace{-1\baselineskip}}
\AtEndEnvironment{proof}{\vspace{1.5\baselineskip}}

\newcommand{\problem}[1]{\section*{#1}}
\newcommand{\subproblem}[1]{\subsection*{#1}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Algebraic Objects
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\numberset}[1]{\mathbb{#1}}
\newcommand{\C}{\numberset{C}}
\newcommand{\R}{\numberset{R}}
\newcommand{\Q}{\numberset{Q}}
\newcommand{\Z}{\numberset{Z}}
\newcommand{\N}{\numberset{N}}

\newcommand{\F}{\numberset{F}}
\newcommand{\K}{\numberset{K}}

\newcommand{\gen}[1]{\langle #1 \rangle}

\newcommand{\equivmod}[3]{#1 \equiv #2\ (\text{mod}\ #3)}

\newcommand{\lcm}{\text{lcm}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% The End
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\endinput
